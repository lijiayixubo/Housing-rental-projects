require('../../common/runtime.js');require('../../common/vendor.js');require('../../common/main.js');(global["webpackJsonp_deep"]=global["webpackJsonp_deep"]||[]).push([["pages/index/index"],{"2b2f":function(e,t,n){"use strict";n.r(t);var i=n("2fd2"),o=n("d99f");for(var u in o)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(u);n("836f");var a=n("f0c5"),s=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"fabfd91c",null,!1,i["a"],void 0);t["default"]=s.exports},"2fd2":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));var i={uSearch:function(){return n.e("uview-ui/components/u-search/u-search").then(n.bind(null,"36ed"))},uSwiper:function(){return n.e("uview-ui/components/u-swiper/u-swiper").then(n.bind(null,"e9ab"))},uGap:function(){return n.e("uview-ui/components/u-gap/u-gap").then(n.bind(null,"33bb"))},uWaterfall:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-waterfall/u-waterfall")]).then(n.bind(null,"4fab"))},uLazyLoad:function(){return n.e("uview-ui/components/u-lazy-load/u-lazy-load").then(n.bind(null,"9f77"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"0dce"))},uBackTop:function(){return n.e("uview-ui/components/u-back-top/u-back-top").then(n.bind(null,"7b29"))},uNoNetwork:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-no-network/u-no-network")]).then(n.bind(null,"6b06"))}},o=function(){var e=this.$createElement,t=(this._self._c,this.goodsArr.length);this.$mp.data=Object.assign({},{$root:{g0:t}})},u=[]},"526b":function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("7cc8"),n("5c17");i(n("66fd"));var o=i(n("2b2f"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"6d6a":function(e,t,n){},"78d2":function(e,t,n){"use strict";(function(e){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("5abe")),u={data:function(){return{goodsArr:[],tabIndex:0,keyword:"",pageNum:1,pageSize:20,scrollTop:0,houseList:[],swiperList:[{image:"/static/img/index/swiper/3.png",title:"身无彩凤双飞翼，心有灵犀一点通"},{image:"/static/img/index/swiper/4.png",title:"身无彩凤双飞翼，心有灵犀一点通"}],noticeList:[],navList:[{name:"整租",src:"/static/img/index/cover_2022/index_cover1.png",type:"0"},{name:"合租",src:"/static/img/index/cover_2022/index_cover2.png",type:"1"},{name:"避坑指南",src:"/static/img/index/cover_2022/index_cover3.png",url:"/pages/center/tips"},{name:"委托房源",src:"/static/img/index/cover_2022/index_cover4.png",type:"2"}],loadStatus:"loadmore",flowList:[],uvCode:e.getStorageSync("uvCode")}},onLoad:function(){var t=this;this.checkCity(),this.findHouseList(),this.getNoticecList(),this.appSysFlowInfo(),this.findRecommendList(),e.$on("findIndexHouseList",(function(e){t.findHouseList(1)}))},onUnload:function(){e.$off("findIndexHouseList")},onPageScroll:function(e){this.scrollTop=e.scrollTop},onReachBottom:function(){this.loadStatus="loading",this.findHouseList()},onPullDownRefresh:function(){this.findHouseList(1),e.stopPullDownRefresh()},methods:{checkCity:function(){var t=e.getStorageSync("lifeData"),n=t.vuex_city;if(!n||0==n.length)return this.$u.route("/pages/location/location")},getItem:function(){},toggleTab:function(e){this.tabIndex=e},tabChange:function(e){console.log(e),this.tabIndex=e.detail.current},location:function(){this.$u.route({url:"pages/location/location"})},search:function(){this.$u.route({url:"pages/search/search"})},notice:function(){this.$u.route({url:"pages/notice/notice"})},findHouseList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==t&&(this.pageNum=1,this.flowList=[],this.$refs.uWaterfall.clear());var n="/api/houseApi/findHouseRoomList";this.$u.get(n,{state:1,villageCity:"杭州市",pageNum:this.pageNum,pageSize:this.pageSize,orderByColumn:"update_time,create_time",isAsc:"desc"}).then((function(t){var n=t.rows;if(e.pageNum>1&&n.length<e.pageSize)return e.loadStatus="nomore";e.houseList=n;for(var i=0;i<e.houseList.length;i++){var u=e.houseList[i];u.faceUrl.includes(o.default.staticUrl)?u.image=u.faceUrl:u.image=o.default.staticUrl+u.faceUrl,0==u.type?u.type="整租":1==u.type&&(u.type="合租"),1==u.roomType?u.roomType="主卧":2==u.roomType?u.roomType="次卧":u.roomType="未知",e.$u.test.isEmpty(u.houseNum)&&(u.houseNum=""),e.$u.test.isEmpty(u.houseHall)&&(u.houseHall=""),e.$u.test.isEmpty(u.toiletNum)&&(u.toiletNum=""),e.flowList.push(u)}++e.pageNum,e.loadStatus="loadmore"}))},findRecommendList:function(){var e=this;this.$u.get("/api/houseApi/findHouseRoomList",{state:1,villageCity:"杭州市",pageNum:this.pageNum,pageSize:this.pageSize,orderByColumn:"update_time,create_time",isAsc:"desc",recommend:1}).then((function(t){console.log(t.rows,"推荐信息");var n=t.rows;e.goodsArr=n}))},clickSearch:function(){this.$u.route("/pages/search/search")},clickImage:function(e){this.$u.route({url:"/pages/detail/detail",params:{houseId:e}})},clickNav:function(t){if(t.url)return this.$u.route(t.url);if("2"===t.type){var n=e.getStorageSync("lifeData"),i=n.vuex_token;return i?this.$u.route("/pages/detail/preHouse"):e.reLaunch({url:"../login/wxlogin"})}return t.type?this.$u.route({url:"/pages/search/searchList",params:{type:t.type}}):void 0},code:function(){this.$mytip.toast("请咨询作者")},appSysFlowInfo:function(){var t=e.getStorageSync("uvCode"),n="https://sourcebyte.cn/api/flow/upFlow?type=MINI&uvCode="+t;e.request({url:n,method:"POST",success:function(t){e.setStorageSync("uvCode",t.data.data)}})},server:function(){e.makePhoneCall({phoneNumber:"18720989281"})},getNoticecList:function(){var e=this;this.$u.get("/api/notice/findNoticeList",{pageNum:1,pageSize:50,orderByColumn:"create_time",isAsc:"desc"}).then((function(t){var n=t.rows;n.filter((function(t){e.noticeList.push(t.noticeTitle)}))}))},getBannerList:function(){var e=this;this.$u.get("/api/banner/list?pageNum=1&pageSize=20&orderByColumn=create_time&isAsc=desc",{pageNum:1,pageSize:50,orderByColumn:"create_time",isAsc:"desc"}).then((function(t){var n=t.rows;n.filter((function(t){e.noticeList.push(t.noticeTitle)}))}))},moreInfo:function(){}}};t.default=u}).call(this,n("543d")["default"])},"836f":function(e,t,n){"use strict";var i=n("6d6a"),o=n.n(i);o.a},d99f:function(e,t,n){"use strict";n.r(t);var i=n("78d2"),o=n.n(i);for(var u in i)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=o.a}},[["526b","common/runtime","common/vendor"]]]);