require('../../common/runtime.js');require('../../common/vendor.js');require('../../common/main.js');(global["webpackJsonp_deep"]=global["webpackJsonp_deep"]||[]).push([["pages/login/wxlogin"],{"07b6":function(e,t,n){},"1ec3":function(e,t,n){"use strict";var i=n("d215"),o=n.n(i);o.a},"556b":function(e,t,n){"use strict";n.r(t);var i=n("cb02"),o=n.n(i);for(var u in i)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=o.a},"6dfe":function(e,t,n){"use strict";var i=n("07b6"),o=n.n(i);o.a},"918f":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement;this._self._c},o=[]},cb02:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{username:"18720989281",password:"123456"}},methods:{login:function(){var t=this;if(!this.$u.test.mobile(this.username))return this.$refs.uToast.show({title:"手机号不正确",type:"warning"});if(!this.password)return this.$refs.uToast.show({title:"密码不能为空",type:"warning"});this.$u.post("/api/thirdLogin",{username:this.username,password:this.password}).then((function(n){t.$u.vuex("vuex_token",n.token),t.$u.vuex("vuex_user",n.loginUser),e.switchTab({url:"/pages/index/index"})}))},weChatLogin:function(t){var n=this,i=t.detail.code;if(i){e.showLoading({title:"登录中....",mask:!0});var o="/api/miniWxApi/getPhoneNum?code="+i;this.$u.get(o).then((function(t){var o=t.phoneNum;n.$u.post("/api/weChatLogin",{username:o,code:i}).then((function(t){e.hideLoading(),n.$u.vuex("vuex_token",t.token),n.$u.vuex("vuex_user",t.loginUser),e.switchTab({url:"/pages/index/index"})}))}))}else this.$mytip.toast("登录失败")},reg:function(){this.$u.route({url:"pages/login/account"})},getUserProfile:function(){var t=this;e.getUserProfile({desc:"登录",success:function(n){e.login({provider:"weixin",success:function(i){console.log(i);var o=i.code;console.log(n),e.showLoading({title:"登录中....",mask:!0});var u={code:o,encryptedIv:n.iv,encryptedData:n.encryptedData};t.$u.post("/wx-login",u).then((function(n){console.log("微信登录返回",n),t.$u.vuex("vuex_token",n.token),t.$u.vuex("vuex_user",n.loginUser),e.switchTab({url:"/pages/center/center"})}))}})},fail:function(e){console.log(e)}})}}};t.default=n}).call(this,n("543d")["default"])},cb1c:function(e,t,n){"use strict";n.r(t);var i=n("918f"),o=n("556b");for(var u in o)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(u);n("1ec3"),n("6dfe");var s=n("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"f447b2b8",null,!1,i["a"],void 0);t["default"]=r.exports},d0f7:function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("7cc8"),n("5c17");i(n("66fd"));var o=i(n("cb1c"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},d215:function(e,t,n){}},[["d0f7","common/runtime","common/vendor"]]]);